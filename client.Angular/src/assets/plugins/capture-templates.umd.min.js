!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/forms"),require("@angular/material"),require("@angular/flex-layout"),require("@angular/core"),require("box-material")):"function"==typeof define&&define.amd?define("capture-templates",["exports","@angular/common","@angular/forms","@angular/material","@angular/flex-layout","@angular/core","box-material"],t):t(e["capture-templates"]={},e.ng.common,e.ng.forms,e.ng.material,e.ng["flex-layout"],e.ng.core,e.boxMaterial)}(this,function(e,t,o,a,r,n,l){"use strict";var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};var m=function(){function e(){}return e.prototype.createForm=function(){this.form=new o.FormGroup({name:new o.FormControl(this.head.name,[o.Validators.required]),"abstract":new o.FormControl(this.head["abstract"]),externalLinkUrl:new o.FormControl(this.head.externalLinkUrl),text1:new o.FormControl(this.head.customInfo?this.head.customInfo.text1:""),text2:new o.FormControl(this.head.customInfo?this.head.customInfo.text2:""),text3:new o.FormControl(this.head.customInfo?this.head.customInfo.text3:""),text4:new o.FormControl(this.head.customInfo?this.head.customInfo.text4:""),number1:new o.FormControl(this.head.customInfo?this.head.customInfo.number1:""),number2:new o.FormControl(this.head.customInfo?this.head.customInfo.number2:""),number3:new o.FormControl(this.head.customInfo?this.head.customInfo.number3:""),number4:new o.FormControl(this.head.customInfo?this.head.customInfo.number4:""),date1:new o.FormControl(this.head.customInfo?this.head.customInfo.date1:""),date2:new o.FormControl(this.head.customInfo?this.head.customInfo.date2:""),date3:new o.FormControl(this.head.customInfo?this.head.customInfo.date3:""),date4:new o.FormControl(this.head.customInfo?this.head.customInfo.date4:"")})},e.prototype.addField=function(e,t){void 0===t&&(t=null),null===t&&(t=new o.FormControl(this.content[e])),this.form.addControl(e,t)},e.prototype.applyValues=function(){var t=this;return Object.keys(this.form.controls).forEach(function(e){t.form.get(e).markAsTouched()}),!this.form.invalid&&(this.updateHead(),this.updateContent(),!0)},e.prototype.updateHead=function(){this.head.customInfo||(this.head.customInfo=new Object),this.head.name=this.form.get("name").value,this.head["abstract"]=this.form.get("abstract").value,this.head.externalLinkUrl=this.form.get("externalLinkUrl").value,this.head.customInfo.text1=this.form.get("text1").value,this.head.customInfo.text2=this.form.get("text2").value,this.head.customInfo.text3=this.form.get("text3").value,this.head.customInfo.text4=this.form.get("text4").value,this.head.customInfo.number1=this.form.get("number1").value,this.head.customInfo.number2=this.form.get("number2").value,this.head.customInfo.number3=this.form.get("number3").value,this.head.customInfo.number4=this.form.get("number4").value,this.head.customInfo.date1=this.form.get("date1").value,this.head.customInfo.date2=this.form.get("date2").value,this.head.customInfo.date3=this.form.get("date3").value,this.head.customInfo.date4=this.form.get("date4").value,this.setThumbUrlUsingField()},e.prototype.updateContent=function(){for(var e in this.form.controls)if(!this.isHeadField(e)){var t=this.form.get(e);this.content[e]=t?t.value:null}},e.prototype.isHeadField=function(e){return"name"===e||"abstract"===e||"thumbFilePath"===e||"externalLinkUrl"===e||"text1"===e||"text2"===e||"text3"===e||"text4"===e||"number1"===e||"number2"===e||"number3"===e||"number4"===e||"date1"===e||"date2"===e||"date3"===e||"date4"===e},e.prototype.setThumbUrl=function(e){this.head.thumbFilePath="/files/"+e.folder+"/"+e.fileUId+"/?asThumb=true"},e.prototype.setThumbUrlUsingField=function(e){void 0===e&&(e="mainBanner");var t=this.form.get(e);t&&t.value&&this.setThumbUrl(t.value)},e.propDecorators={head:[{type:n.Input}],content:[{type:n.Input}]},e}(),u=function(e){function t(){return e.call(this)||this}return function a(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}(t,e),t.prototype.ngOnInit=function(){this.createForm(),this.addField("field1"),this.addField("field2"),this.addField("mainBanner"),this.addField("images"),this.addField("htmlContent")},t.decorators=[{type:n.Component,args:[{selector:"lib-page-template",template:'<form fxLayout="column" [formGroup]="form" autocomplete="off" novalidate>\r\n\r\n  <mat-form-field class="big-field" style="font-size:30px; margin-top: -0.84375em" floatLabel="never">\r\n      \x3c!-- <mat-label>Título</mat-label> --\x3e\r\n      <input matInput required formControlName="name" placeholder="Título">\r\n      <mat-error style="font-size: 10.5px" *ngIf="form.controls.name.invalid">Esse campo é obrigatório</mat-error>\r\n  </mat-form-field>\r\n\r\n  <lib-quill-editor label="Conteúdo" [mediaGallery]="mediaGallery" imageFolder="images" formControlName="htmlContent"></lib-quill-editor>\r\n\r\n  <mat-form-field appearance="outline">\r\n      <mat-label>Escolha ou arraste um arquivo</mat-label>\r\n      <lib-file-upload folder="folderB" autoUpload="true" singleFile="true" formControlName="mainBanner"  mode="tile"\r\n      [uploadService]="cmsService" [mediaGallery]="mediaGallery" mediaGalleryPlaceHolder="usar galeria"></lib-file-upload>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field appearance="outline">\r\n    <mat-label>Escolha ou arraste um arquivo</mat-label>\r\n    <lib-file-upload folder="images" autoUpload="true" singleFile="false" formControlName="images"\r\n    [uploadService]="cmsService" [mediaGallery]="mediaGallery"  mediaGalleryPlaceHolder="usar galeria"></lib-file-upload>\r\n  </mat-form-field>\r\n\r\n  \r\n  <mat-form-field appearance="outline">\r\n    <mat-label>Abstract</mat-label>\r\n    <input matInput required formControlName="abstract" >  \r\n  </mat-form-field>    \r\n  <mat-form-field appearance="outline">\r\n    <mat-label>Custom text 1</mat-label>\r\n    <input matInput required formControlName="text1" >  \r\n  </mat-form-field>\r\n  <mat-form-field appearance="outline">\r\n    <mat-label>CONTENT FIELD 1</mat-label>\r\n    <input matInput required formControlName="field1" >  \r\n  </mat-form-field>\r\n  <mat-form-field appearance="outline">\r\n    <mat-label>CONTENT FIELD 2</mat-label>\r\n    <input matInput required formControlName="field2" >  \r\n  </mat-form-field>\r\n\r\n  \r\n  \r\n</form>\r\n'}]}],t.ctorParameters=function(){return[]},t}(m),d=function(){function e(){}return e.prototype.ngOnInit=function(){},e.decorators=[{type:n.Component,args:[{selector:"lib-doc-template",template:"\n    <p>\n      DOC TEMPLATE!\n    </p>\n  "}]}],e.ctorParameters=function(){return[]},e}(),s=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule,o.FormsModule,o.ReactiveFormsModule,a.MatFormFieldModule,a.MatInputModule,a.MatButtonModule,a.MatCardModule,a.MatIconModule,a.MatListModule,a.MatCheckboxModule,a.MatSelectModule,a.MatDialogModule,a.MatTableModule,a.MatDatepickerModule,a.MatTabsModule,r.FlexLayoutModule,l.BoxMaterialModule],declarations:[u,d],exports:[t.CommonModule,o.FormsModule,o.ReactiveFormsModule,a.MatFormFieldModule,a.MatInputModule,a.MatButtonModule,a.MatCardModule,a.MatIconModule,a.MatListModule,a.MatCheckboxModule,a.MatSelectModule,a.MatDialogModule,a.MatTableModule,a.MatDatepickerModule,a.MatTabsModule,r.FlexLayoutModule,l.BoxMaterialModule,u,d]}]}],e}();e.PageTemplateComponent=u,e.CaptureTemplatesModule=s,e.ɵa=m,e.ɵb=d,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=capture-templates.umd.min.js.map